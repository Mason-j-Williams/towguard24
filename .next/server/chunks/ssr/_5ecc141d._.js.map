{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../app/agents/page.tsx","../../../../lib/agentsConfig.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","\"use client\";\n\nimport { useState } from \"react\";\nimport { AGENTS } from \"@/lib/agentsConfig\";\n\nexport default function AgentsPage() {\n  const [agentId, setAgentId] = useState(AGENTS[0]?.id || \"\");\n  const [messages, setMessages] = useState<\n    { role: \"user\" | \"assistant\"; content: string }[]\n  >([]);\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  async function sendMessage() {\n    if (!input.trim()) return;\n\n    const userMessage = { role: \"user\" as const, content: input };\n    setMessages((prev) => [...prev, userMessage]);\n    setInput(\"\");\n    setLoading(true);\n\n    try {\n      const res = await fetch(\"/api/agent\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          agentId,\n          message: userMessage.content,\n          history: messages,\n        }),\n      });\n\n      const data = await res.json();\n\n      if (data.reply) {\n        setMessages((prev) => [\n          ...prev,\n          { role: \"assistant\", content: data.reply },\n        ]);\n      } else {\n        setMessages((prev) => [\n          ...prev,\n          {\n            role: \"assistant\",\n            content: \"Error: No reply from agent.\",\n          },\n        ]);\n      }\n    } catch (err) {\n      setMessages((prev) => [\n        ...prev,\n        {\n          role: \"assistant\",\n          content: \"Error contacting agent.\",\n        },\n      ]);\n    }\n\n    setLoading(false);\n  }\n\n  return (\n    <div style={{ padding: 20, maxWidth: 700, margin: \"0 auto\" }}>\n      <h1>TowGuard24 AI Agents</h1>\n\n      <label>Select an agent:</label>\n      <select\n        value={agentId}\n        onChange={(e) => setAgentId(e.target.value)}\n        style={{ display: \"block\", marginBottom: 20, padding: 8 }}\n      >\n        {AGENTS.map((agent) => (\n          <option key={agent.id} value={agent.id}>\n            {agent.name}\n          </option>\n        ))}\n      </select>\n\n      <div\n        style={{\n          border: \"1px solid #ccc\",\n          padding: 10,\n          height: 400,\n          overflowY: \"auto\",\n          marginBottom: 20,\n          background: \"#fafafa\",\n        }}\n      >\n        {messages.map((m, i) => (\n          <div\n            key={i}\n            style={{\n              marginBottom: 12,\n              textAlign: m.role === \"user\" ? \"right\" : \"left\",\n            }}\n          >\n            <strong>{m.role === \"user\" ? \"You\" : \"Agent\"}:</strong>{\" \"}\n            {m.content}\n          </div>\n        ))}\n      </div>\n\n      <div style={{ display: \"flex\", gap: 10 }}>\n        <input\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          placeholder=\"Type your message...\"\n          style={{ flex: 1, padding: 10 }}\n        />\n        <button onClick={sendMessage} disabled={loading}>\n          {loading ? \"Sending...\" : \"Send\"}\n        </button>\n      </div>\n    </div>\n  );\n}\n","import { marketingAgent } from \"./agents/marketingAgent\";\nimport { supportAgent } from \"./agents/supportAgent\";\nimport { salesAgent } from \"./agents/salesAgent\";\n\nexport const agentsConfig = {\n  marketing: marketingAgent,\n  support: supportAgent,\n  sales: salesAgent,\n};\n\nexport type AgentKey = keyof typeof agentsConfig;\n"],"names":["module","exports","require","vendored","ReactJsxRuntime"],"mappings":"6CAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEC,eAAe,oCCAxC,EAAA,CAAA,CAAA","ignoreList":[0]}